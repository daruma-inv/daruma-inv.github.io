"use strict";(self.webpackChunkcorporate=self.webpackChunkcorporate||[]).push([[924],{9283:function(e,t,n){var r=n(8580);t.Z=void 0;var a=r(n(2174)),l=n(5893),o=(0,a.default)((0,l.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}),"Logout");t.Z=o},8041:function(e,t,n){n.d(t,{L:function(){return a}});var r=n(8416);function a(e){return(0,r.Z)("MuiListItemText",e)}var l=(0,n(2194).Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);t.Z=l},7499:function(e,t,n){n.d(t,{Z:function(){return B}});var r=n(7294),a=n(5444);function l(e){this.message=e}l.prototype=new Error,l.prototype.name="InvalidCharacterError";var o="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new l("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,a=0,o=0,i="";r=t.charAt(o++);~r&&(n=a%4?64*n+r:r,a++%4)?i+=String.fromCharCode(255&n>>(-2*a&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return i};function i(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(o(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return o(t)}}function c(e){this.message=e}c.prototype=new Error,c.prototype.name="InvalidTokenError";var s=function(e,t){if("string"!=typeof e)throw new c("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(i(e.split(".")[n]))}catch(e){throw new c("Invalid token specified: "+e.message)}},u=n(6320),d=n(1245),m=n(1531),p=n(4038),f=n(5505),v=n(9408),Z=n(8348),g=n(2371),E=n(2067),h=n(5893),b=(0,E.Z)((0,h.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),y=n(8416);function w(e){return(0,y.Z)("MuiAvatar",e)}(0,n(2194).Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var x=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],S=(0,Z.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return(0,p.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:t.shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&{color:t.palette.background.default,backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]})})),k=(0,Z.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),C=(0,Z.ZP)(b,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var I=r.forwardRef((function(e,t){var n=(0,g.Z)({props:e,name:"MuiAvatar"}),a=n.alt,l=n.children,o=n.className,i=n.component,c=void 0===i?"div":i,s=n.imgProps,u=n.sizes,Z=n.src,E=n.srcSet,b=n.variant,y=void 0===b?"circular":b,I=(0,m.Z)(n,x),P=null,A=function(e){var t=e.crossOrigin,n=e.referrerPolicy,a=e.src,l=e.srcSet,o=r.useState(!1),i=(0,d.Z)(o,2),c=i[0],s=i[1];return r.useEffect((function(){if(a||l){s(!1);var e=!0,r=new Image;return r.onload=function(){e&&s("loaded")},r.onerror=function(){e&&s("error")},r.crossOrigin=t,r.referrerPolicy=n,r.src=a,l&&(r.srcset=l),function(){e=!1}}}),[t,n,a,l]),c}((0,p.Z)({},s,{src:Z,srcSet:E})),D=Z||E,R=D&&"error"!==A,M=(0,p.Z)({},n,{colorDefault:!R,component:c,variant:y}),j=function(e){var t=e.classes,n={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,v.Z)(n,w,t)}(M);return P=R?(0,h.jsx)(k,(0,p.Z)({alt:a,src:Z,srcSet:E,sizes:u,ownerState:M,className:j.img},s)):null!=l?l:D&&a?a[0]:(0,h.jsx)(C,{className:j.fallback}),(0,h.jsx)(S,(0,p.Z)({as:c,ownerState:M,className:(0,f.Z)(j.root,o),ref:t},I,{children:P}))})),P=n(5190),A=n(9211),D=n(6968),R=n(5616),M=n(7098),j=n(9308),L=n(9283),z="com.daruma-inv.admin",B=function(e){var t=e.children,n=(0,r.useState)(!1),l=n[0],o=n[1],i=(0,r.useState)(!1),c=i[0],d=i[1],m=(0,r.useState)(""),p=m[0],f=m[1],v=(0,r.useState)(""),Z=(v[0],v[1]),g=(0,r.useState)(""),E=(g[0],g[1]),h=(0,r.useState)(""),b=h[0],y=h[1],w=(0,r.useState)(""),x=w[0],S=w[1],k=function(){f(""),Z(""),E(""),y(""),S(""),e.setUsername&&e.setUsername("")};(0,r.useEffect)((function(){var t=function(){window.google.accounts.id.initialize({client_id:"137389090265-9p2asf68ustrc46nemdmmi8d4l5gnapm.apps.googleusercontent.com",callback:function(e){var t=e.credential,n=s(t).email;if(!/@daruma-inv.com$/.test(n)&&"koujirou0111@gmail.com"!==n&&"oxwm.system@gmail.com"!==n)return d(!0),void o(!1);window.localStorage.setItem(z,t),o(!0)}}),window.google.accounts.id.renderButton(document.getElementById("buttonDiv"),{theme:"outline",size:"large"}),window.google.accounts.id.prompt()},n=function(){var e=document.createElement("script");e.src="https://accounts.google.com/gsi/client",e.addEventListener("load",t),document.body.appendChild(e)},r=function(){var t=window.localStorage.getItem(z);if(!t)return k(),o(!1),void n();var r=s(t);if(!r)return k(),o(!1),void n();f(r.email),Z(r.family_name),E(r.given_name),y(r.name),S(r.picture),d(!1),o(!0),e.setUsername&&e.setUsername(r.name)};return"complete"===document.readyState?r():window.addEventListener("load",r),function(){window.removeEventListener("load",r)}}),[l]);return l?r.createElement(r.Fragment,null,r.createElement(P.Z,{position:"fixed",sx:{backgroundColor:"#333"}},r.createElement(R.Z,{maxWidth:"xl"},r.createElement(M.Z,{disableGutters:!0},r.createElement(j.Z,{variant:"h6",noWrap:!0,component:"div",fontWeight:"bold",sx:{mr:2,display:"flex"},onClick:function(){return(0,a.navigate)("/admin/")}},"DARUMA ADMIN TOOLS"),r.createElement(A.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}}},r.createElement(D.Z,{sx:{color:"#fff"},onClick:function(){return(0,a.navigate)("/admin/invitations/")}},"紹介システム")),r.createElement(D.Z,{variant:"contained",color:"error",startIcon:r.createElement(L.Z,null),onClick:function(){var e,t,n,r;null===(e=window)||void 0===e||null===(t=e.google)||void 0===t||null===(n=t.accounts)||void 0===n||null===(r=n.id)||void 0===r||r.disableAutoSelect(),window.localStorage.removeItem(z),k(),o(!1)},sx:{mx:2}},"ログアウト"),r.createElement(A.Z,{display:"flex",flexDirection:"row",alignItems:"center"},r.createElement(A.Z,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},r.createElement(j.Z,{fontSize:14,fontWeight:"bold"},b),r.createElement(j.Z,{fontSize:10},"(",p,")")),r.createElement(I,{src:x,sx:{ml:1}}))))),r.createElement(R.Z,{maxWidth:"xl",sx:{mt:10}},t)):r.createElement(r.Fragment,null,r.createElement(R.Z,{sx:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.createElement(A.Z,{my:2},r.createElement(j.Z,{variant:"h6"},"DARUMA ADMIN TOOLS")),r.createElement(A.Z,null,r.createElement(A.Z,{id:"buttonDiv",sx:{display:"flex",justifyContent:"center"}}),r.createElement(u.Z,{severity:"error",sx:{opacity:c?1:0,pointerEvents:"none"}},"この Google アカウントのログインは許可していません。"))))}},3975:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ze}});var r=n(8634),a=n(2656),l=n.n(a),o=n(7294),i=n(4944),c=n.n(i),s=n(6320),u=n(9211),d=n(6968),m=n(3827),p=n(8423),f=n(4334),v=n(5437),Z=n(5774),g=n(1531),E=n(4038),h=n(5505),b=n(9408),y=n(7663),w=n(8348),x=n(2371),S=n(8267),k=n(1919),C=n(4026),I=n(5973),P=n(2194);var A=(0,P.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var D=(0,P.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]),R=n(8041),M=n(8416);function j(e){return(0,M.Z)("MuiMenuItem",e)}var L=(0,P.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),z=n(5893),B=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],N=(0,w.ZP)(k.Z,{shouldForwardProp:function(e){return(0,w.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,E.Z)({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:"1px solid ".concat(n.palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:n.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,Z.Z)(t,"&.".concat(L.selected),(0,Z.Z)({backgroundColor:(0,y.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(L.focusVisible),{backgroundColor:(0,y.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,Z.Z)(t,"&.".concat(L.selected,":hover"),{backgroundColor:(0,y.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,y.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,Z.Z)(t,"&.".concat(L.focusVisible),{backgroundColor:n.palette.action.focus}),(0,Z.Z)(t,"&.".concat(L.disabled),{opacity:n.palette.action.disabledOpacity}),(0,Z.Z)(t,"& + .".concat(A.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),(0,Z.Z)(t,"& + .".concat(A.inset),{marginLeft:52}),(0,Z.Z)(t,"& .".concat(R.Z.root),{marginTop:0,marginBottom:0}),(0,Z.Z)(t,"& .".concat(R.Z.inset),{paddingLeft:36}),(0,Z.Z)(t,"& .".concat(D.root),{minWidth:36}),t),!r.dense&&(0,Z.Z)({},n.breakpoints.up("sm"),{minHeight:"auto"}),r.dense&&(0,E.Z)({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,(0,Z.Z)({},"& .".concat(D.root," svg"),{fontSize:"1.25rem"})))})),O=o.forwardRef((function(e,t){var n=(0,x.Z)({props:e,name:"MuiMenuItem"}),r=n.autoFocus,a=void 0!==r&&r,l=n.component,i=void 0===l?"li":l,c=n.dense,s=void 0!==c&&c,u=n.divider,d=void 0!==u&&u,m=n.disableGutters,p=void 0!==m&&m,f=n.focusVisibleClassName,v=n.role,Z=void 0===v?"menuitem":v,y=n.tabIndex,w=(0,g.Z)(n,B),k=o.useContext(S.Z),P={dense:s||k.dense||!1,disableGutters:p},A=o.useRef(null);(0,C.Z)((function(){a&&A.current&&A.current.focus()}),[a]);var D,R=(0,E.Z)({},n,{dense:P.dense,divider:d,disableGutters:p}),M=function(e){var t=e.disabled,n=e.dense,r=e.divider,a=e.disableGutters,l=e.selected,o=e.classes,i={root:["root",n&&"dense",t&&"disabled",!a&&"gutters",r&&"divider",l&&"selected"]},c=(0,b.Z)(i,j,o);return(0,E.Z)({},o,c)}(n),L=(0,I.Z)(A,t);return n.disabled||(D=void 0!==y?y:-1),(0,z.jsx)(S.Z.Provider,{value:P,children:(0,z.jsx)(N,(0,E.Z)({ref:L,role:Z,tabIndex:D,component:i,focusVisibleClassName:(0,h.Z)(M.focusVisible,f)},w,{ownerState:R,classes:M}))})})),F=n(4202),U=n(5749),T=n(4382),W=n(2664),V=n(7783),G=n(943),H=n(5319),q=n(7708),K=n(3182),_=n(7216),J=n(9308),$=n(3015),Q=n(7499),X=n(1359),Y=n(8599),ee=n(6763),te=n(460),ne=n(5497),re=n(581),ae=n(26),le=n(8115),oe=n(7485),ie=n(8679),ce=n(9656),se=n(3741),ue=n(7962),de=n(4093),me=n(5421),pe=n(631),fe=n(8552),ve=function(e){var t=(0,o.useState)(e.clientsPartner.name),n=t[0],a=t[1],i=(0,o.useState)(e.clientsPartner.partnerId),s=i[0],m=i[1],f=(0,o.useState)(e.clientsPartner.note),v=f[0],Z=f[1],g=(0,o.useState)(e.clientsPartner.uuid),E=g[0],h=g[1],b=(0,o.useState)(e.clientsPartner.name),y=b[0],w=b[1],x=(0,o.useState)(e.clientsPartner.partnerId),S=x[0],k=x[1],C=(0,o.useState)(e.clientsPartner.note),I=C[0],P=C[1],A=(0,o.useState)(!0),D=A[0],R=A[1],M=(0,o.useState)(!0),j=M[0],L=M[1],z=(0,o.useState)(e.clientsPartner.createdAt),B=z[0],N=z[1],O=(0,o.useState)(e.clientsPartner.updatedAt),F=O[0],U=O[1],W=(0,o.useState)(e.clientsPartner.createdBy),V=W[0],H=W[1],q=(0,o.useState)(e.clientsPartner.updatedBy),$=q[0],Q=q[1],ve=(0,o.useState)(!1),Ze=ve[0],ge=ve[1],Ee=(0,o.useState)(!1),he=Ee[0],be=Ee[1],ye=(0,o.useState)(""),we=ye[0],xe=ye[1],Se=(0,o.useState)(""),ke=Se[0],Ce=Se[1];(0,o.useEffect)((function(){var t="https://daruma-inv.com/invitations/?uuid="+e.clientsPartner.uuid,n=function(){var e=(0,r.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.toDataURL(t);case 3:n=e.sent,Ce(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();n(),xe(t),a(e.clientsPartner.name),m(e.clientsPartner.partnerId),Z(e.clientsPartner.note),h(e.clientsPartner.uuid),w(e.clientsPartner.name),k(e.clientsPartner.partnerId),P(e.clientsPartner.note),R(!0),L(!0),N(e.clientsPartner.createdAt),U(e.clientsPartner.updatedAt),H(e.clientsPartner.createdBy),Q(e.clientsPartner.updatedBy)}),[e.clientsPartner.uuid,e.clientsPartner.name,e.clientsPartner.partnerId,e.clientsPartner.note,e.clientsPartner.createdAt,e.clientsPartner.updatedAt,e.clientsPartner.createdBy,e.clientsPartner.updatedBy,e.username]);var Ie=function(){var t=(0,r.Z)(l().mark((function t(){var n,r,o,i,s,u,d,p,f;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c()("https://api.eleven-cloud.com/api/partners/clients/"+E,{method:"PUT",body:JSON.stringify({name:y,partnerId:S,note:I,updatedBy:e.username})});case 3:if(!((n=t.sent).status>=400)){t.next=6;break}throw new Error("Bad response /api/partners/clients");case 6:return t.next=8,n.json();case 8:r=t.sent,o=r.name,i=r.partnerId,s=r.note,u=r.createdAt,d=r.updatedAt,p=r.createdBy,f=r.updatedBy,a(o),m(i),Z(s),w(o),k(i),P(s),R(!0),L(!0),N(u),U(d),H(p),Q(f),t.next=34;break;case 30:t.prev=30,t.t0=t.catch(0),alert("error"),console.log(t.t0);case 34:case"end":return t.stop()}}),t,null,[[0,30]])})));return function(){return t.apply(this,arguments)}}(),Pe=function(){var t=(0,r.Z)(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c()("https://api.eleven-cloud.com/api/partners/clients/"+e.clientsPartner.uuid,{method:"DELETE"});case 3:if(!(t.sent.status>=400)){t.next=6;break}throw new Error("Bad response /api/partners/clients");case 6:e.reload(),ge(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),Ae=function(){return ge(!1)},De=e.partners.find((function(e){return e.uuid===S})),Re=De.lastNameKanji+" "+De.firstNameKanji,Me=function(){var e=(0,o.useState)(!1),t=e[0],n=e[1];return o.createElement(fe.CopyToClipboard,{text:we,onCopy:function(){return n(!0)}},o.createElement(ae.Z,{onClose:function(){return n(!1)},open:t,title:"コピーしました"},o.createElement(d.Z,{fullWidth:!0,variant:"outlined",size:"small",startIcon:o.createElement(le.Z,null)},"URLをコピーする")))};return o.createElement(o.Fragment,null,o.createElement(K.Z,{hover:!0,selected:!D||!j},o.createElement(G.Z,null,o.createElement(u.Z,{display:"flex",flexDirection:"column"},o.createElement(u.Z,null,o.createElement(d.Z,{fullWidth:!0,variant:"outlined",size:"small",startIcon:o.createElement(de.Z,null),onClick:function(){return be(!0)}},"URLを確認する")),o.createElement(u.Z,{mt:1},o.createElement(Me,null)),o.createElement(u.Z,{mt:1},o.createElement(d.Z,{fullWidth:!0,variant:"outlined",size:"small",startIcon:o.createElement(se.Z,null),onClick:function(){window.location.href="mailto:?subject=【DARUMA】"+y+"様専用 お客様ご紹介ページ&body="+y+"様%0D%0A%0D%0Aいつもお世話になっております。ダルマ株式会社の"+Re+"です。%0D%0A"+y+"様専用のお客様ご紹介ページをご用意しましたので、ご活用いただければ幸いです。%0D%0A%0D%0A【お客様ご紹介ページ】%0D%0A"+we+"%0D%0A%0D%0Aご紹介システムの使い方などでご不明な点がございましたらお気軽にお問い合わせください。%0D%0Aよろしくお願いいたします。%0D%0A%0D%0Aダルマ株式会社%0D%0A"+Re}},"メールで送る")),o.createElement(u.Z,{mt:1},o.createElement(d.Z,{fullWidth:!0,variant:"outlined",size:"small",color:"success",startIcon:o.createElement(oe.Z,null),onClick:function(){var e="https://social-plugins.line.me/lineit/share?url="+we;window.open(e,"_blank","noreferrer")}},"LINEで送る")),o.createElement(u.Z,{mt:1},o.createElement(d.Z,{fullWidth:!0,size:"small",color:"warning",endIcon:o.createElement(ie.Z,null),onClick:function(){return window.open(we,"_blank","noreferrer")}},"お客様用ページを開く"))),o.createElement(X.Z,{open:he,onClose:function(){return be(!1)}},o.createElement(ne.Z,null,o.createElement(J.Z,{variant:"h6",textAlign:"center"},y,"様専用 お客様ご紹介ページURL")),o.createElement(ee.Z,null,o.createElement(te.Z,null,o.createElement("img",{src:ke,style:{display:"block",margin:"0 auto",width:"100px",height:"100px"}}),we,o.createElement(Me,null))))),o.createElement(G.Z,null,o.createElement(_.Z,{value:y,onChange:function(e){var t=e.target.value,r=t!==n||S!==s||I!==v;R(!(t&&r)),L(!r),w(t)},InputProps:{endAdornment:o.createElement(p.Z,{position:"end"},"様")}})),o.createElement(G.Z,null,o.createElement(J.Z,null,Re)),o.createElement(G.Z,null,o.createElement(_.Z,{value:I,multiline:!0,onChange:function(e){var t=e.target.value,r=y!==n||S!==s||t!==v;R(!(y&&r)),L(!r),P(t)}})),o.createElement(G.Z,null,o.createElement(T.Z,{direction:"column",spacing:1},o.createElement(ae.Z,{title:"このレコードの変更を保存する"},o.createElement("span",null,o.createElement(re.Z,{color:"primary","aria-label":"update",size:"large",disabled:D,onClick:Ie},o.createElement(ce.Z,{fontSize:"inherit"})))),o.createElement(ae.Z,{title:"このレコードの変更を元に戻す"},o.createElement("span",null,o.createElement(re.Z,{color:"warning","aria-label":"undo",size:"large",disabled:j,onClick:function(){w(n),k(s),P(v),R(!0),L(!0)}},o.createElement(ue.Z,{fontSize:"inherit"})))))),o.createElement(G.Z,null,o.createElement(J.Z,{variant:"body2"},(0,me.Z)(B)," ",o.createElement("small",null,"作成 (",V,")")),o.createElement(J.Z,{variant:"body2"},(0,me.Z)(F)," ",o.createElement("small",null,"更新 (",$,")")))),o.createElement(X.Z,{open:Ze,onClose:Ae,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.createElement(ne.Z,{id:"alert-dialog-title"},"このレコードの削除しますか？"),o.createElement(ee.Z,null,o.createElement(te.Z,{id:"alert-dialog-description"},"顧客名　: ",n,o.createElement("br",null),"担当者　:"," ",function(){var t=e.partners.filter((function(e){return e.uuid===s}))[0];return t.lastNameKanji+" "+t.firstNameKanji}(),o.createElement("br",null),"メモ　　: ",v,o.createElement("br",null),"作成日時: ",(0,me.Z)(B)," (",V,")",o.createElement("br",null),"更新日時: ",(0,me.Z)(F)," (",$,")")),o.createElement(Y.Z,null,o.createElement(d.Z,{onClick:Ae},"キャンセル"),o.createElement(d.Z,{onClick:Pe,autoFocus:!0},"削除する"))))},Ze=function(){var e=(0,o.useState)(!1),t=e[0],n=e[1],a=(0,o.useState)("info"),i=a[0],Z=a[1],g=(0,o.useState)(""),E=g[0],h=g[1],b=(0,o.useState)([]),y=b[0],w=b[1],x=(0,o.useState)([]),S=x[0],k=x[1],C=(0,o.useState)(""),I=C[0],P=C[1],A=(0,o.useState)(""),D=A[0],R=A[1],M=(0,o.useState)(""),j=M[0],L=M[1],z=(0,o.useState)(!0),B=z[0],N=z[1],X=(0,o.useState)(0),Y=X[0],ee=X[1],te=(0,o.useState)(""),ne=te[0],re=te[1];return(0,o.useEffect)((function(){var e=function(){var e=(0,r.Z)(l().mark((function e(){var t,n,r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c()("https://api.eleven-cloud.com/api/partners");case 3:return t=e.sent,e.next=6,c()("https://api.eleven-cloud.com/api/partners/clients");case 6:if(n=e.sent,!(t.status>=400)){e.next=9;break}throw new Error("Bad response /api/partners");case 9:if(!(n.status>=400)){e.next=11;break}throw new Error("Bad response /api/partners/clients");case 11:return e.next=13,t.json();case 13:return r=e.sent,e.next=16,n.json();case 16:a=e.sent,w(r),k(a),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(){return e.apply(this,arguments)}}();e()}),[Y]),o.createElement(Q.Z,{setUsername:re},o.createElement(J.Z,{variant:"h6"},"紹介システム 権限付与",o.createElement("small",null,"（DARUMA → オーナー様）")),o.createElement(u.Z,{display:"flex",my:2,pl:2,py:4,sx:{border:"2px solid #ccc",borderRadius:2}},o.createElement(_.Z,{label:"顧客名",variant:"outlined",value:I,InputProps:{endAdornment:o.createElement(p.Z,{position:"end"},"様")},onChange:function(e){var t=e.target.value;P(t),N(!D||!t)}}),o.createElement(m.Z,{sx:{minWidth:120}},o.createElement(f.Z,null,"担当者"),o.createElement(F.Z,{label:"担当者",value:D,onChange:function(e){var t=e.target.value;R(t),N(!t||!I)}},y.map((function(e,t){var n=e.uuid,r=e.lastNameKanji,a=e.firstNameKanji,l=e.lastName,i=e.firstName,c=r&&a?r+" "+a:l+" "+i;return o.createElement(O,{key:t,value:n},c)})))),o.createElement(_.Z,{label:"メモ",variant:"outlined",multiline:!0,value:j,onChange:function(e){var t=e.target.value;return L(t)},sx:{minWidth:320}}),o.createElement(d.Z,{variant:"contained",color:"primary",startIcon:o.createElement($.Z,null),disabled:B,onClick:(0,r.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c()("https://api.eleven-cloud.com/api/partners/clients",{method:"POST",body:JSON.stringify({name:I,partnerId:D,note:j,createdBy:ne})});case 3:if(!(e.sent.status>=400)){e.next=6;break}throw new Error("Bad response /api/partners/clients");case 6:n(!0),Z("success"),h(I+" 様の情報を追加しました"),P(""),R(""),L(""),N(!0),ee(Y+1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),alert("error"),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))},"新規作成")),o.createElement(H.Z,null,o.createElement(W.Z,null,o.createElement(q.Z,null,o.createElement(K.Z,null,o.createElement(G.Z,null,"URL"),o.createElement(G.Z,null,"顧客名"),o.createElement(G.Z,null,"担当者"),o.createElement(G.Z,null,"メモ"),o.createElement(G.Z,null,"操作"),o.createElement(G.Z,null,"タイムスタンプ"))),o.createElement(V.Z,null,S[0]?S.map((function(e,t){return o.createElement(ve,{key:t,clientsPartner:e,partners:y,username:ne,reload:function(){return ee(Y+1)}})})):o.createElement(K.Z,null,o.createElement(G.Z,{colSpan:6},o.createElement(J.Z,{align:"center"},"Loading..."),o.createElement(v.Z,null)))))),o.createElement(T.Z,{spacing:2,sx:{width:"100%"}},o.createElement(U.Z,{open:t,autoHideDuration:5e3,onClose:function(e,t){"clickaway"!==t&&n(!1)}},o.createElement(s.Z,{severity:i},E))))}}}]);
//# sourceMappingURL=component---src-pages-admin-invitations-index-js-0fb8c1c080f4f40bafb2.js.map