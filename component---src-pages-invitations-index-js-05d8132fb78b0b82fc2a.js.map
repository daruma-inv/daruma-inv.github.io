{"version":3,"file":"component---src-pages-invitations-index-js-05d8132fb78b0b82fc2a.js","mappings":"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","sources":["webpack://corporate/./src/components/invitations/clients-friends.js","webpack://corporate/./src/pages/invitations/index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport fetch from 'cross-fetch';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport IconButton from '@mui/material/IconButton';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport Link from '@mui/material/Link';\nimport Stack from '@mui/material/Stack';\nimport TableCell from '@mui/material/TableCell';\nimport TableRow from '@mui/material/TableRow';\nimport TextField from '@mui/material/TextField';\nimport Tooltip from '@mui/material/Tooltip';\nimport Typography from '@mui/material/Typography';\nimport DeleteForeverIcon from '@mui/icons-material/DeleteForever';\nimport SaveAsIcon from '@mui/icons-material/SaveAs';\nimport UndoIcon from '@mui/icons-material/Undo';\nimport dateFormat from '@libs/dateFormat';\nimport qr from 'qrcode';\n\nconst ClientsFriends = props => {\n  const [initialFriendName, setInitialFriendName] = useState(\n    props.clientsFriend.friendName\n  );\n  const [initialYourName, setInitialYourName] = useState(\n    props.clientsFriend.yourName\n  );\n  const [initialNote, setInitialNote] = useState(props.clientsFriend.note);\n  const [uuid, setUuid] = useState(props.clientsFriend.uuid);\n  const [friendName, setFriendName] = useState(props.clientsFriend.friendName);\n  const [yourName, setYourName] = useState(props.clientsFriend.yourName);\n  const [note, setNote] = useState(props.clientsFriend.note);\n  const [disabledUpdateButton, setDisabledUpdateButton] = useState(true);\n  const [disabledUndoButton, setDisabledUndoButton] = useState(true);\n  const [createdAt, setCreatedAt] = useState(props.clientsFriend.createdAt);\n  const [updatedAt, setUpdatedAt] = useState(props.clientsFriend.updatedAt);\n  const [createdBy, setCreatedBy] = useState(props.clientsFriend.createdBy);\n  const [updatedBy, setUpdatedBy] = useState(props.clientsFriend.updatedBy);\n\n  const [isOpenDialog, setIsOpenDialog] = useState(false);\n\n  const [shareUrl, setShareUrl] = useState('');\n  const [qrImage, setQrImage] = useState('');\n\n  useEffect(() => {\n    const _shareUrl = `${process.env.URL}foryou/?uuid=${props.clientsFriend.uuid}`;\n\n    const f = async () => {\n      try {\n        const _qrImage = await qr.toDataURL(_shareUrl);\n        setQrImage(_qrImage);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    f();\n\n    setShareUrl(_shareUrl);\n\n    setInitialFriendName(props.clientsFriend.friendName);\n    setInitialYourName(props.clientsFriend.yourName);\n    setInitialNote(props.clientsFriend.note);\n    setUuid(props.clientsFriend.uuid);\n    setFriendName(props.clientsFriend.friendName);\n    setYourName(props.clientsFriend.yourName);\n    setNote(props.clientsFriend.note);\n    setDisabledUpdateButton(true);\n    setDisabledUndoButton(true);\n    setCreatedAt(props.clientsFriend.createdAt);\n    setUpdatedAt(props.clientsFriend.updatedAt);\n    setCreatedBy(props.clientsFriend.createdBy);\n    setUpdatedBy(props.clientsFriend.updatedBy);\n    setIsOpenDialog(false);\n  }, [\n    props.clientsFriend.uuid,\n    props.clientsFriend.friendName,\n    props.clientsFriend.yourName,\n    props.clientsFriend.note,\n    props.clientsFriend.createdAt,\n    props.clientsFriend.updatedAt,\n    props.clientsFriend.createdBy,\n    props.clientsFriend.updatedBy\n  ]);\n\n  const handleChangeFriendName = ({ target: { value } }) => {\n    const isDiff =\n      value !== initialFriendName ||\n      yourName !== initialYourName ||\n      note !== initialNote;\n\n    setDisabledUpdateButton(!(value && isDiff));\n    setDisabledUndoButton(!isDiff);\n    setFriendName(value);\n  };\n\n  const handleChangeYourName = ({ target: { value } }) => {\n    const isDiff =\n      friendName !== initialFriendName ||\n      value !== initialYourName ||\n      note !== initialNote;\n\n    setDisabledUpdateButton(!(friendName && isDiff));\n    setDisabledUndoButton(!isDiff);\n    setYourName(value);\n  };\n\n  const handleChangeNote = ({ target: { value } }) => {\n    const isDiff =\n      friendName !== initialFriendName ||\n      yourName !== initialYourName ||\n      value !== initialNote;\n\n    setDisabledUpdateButton(!(friendName && isDiff));\n    setDisabledUndoButton(!isDiff);\n    setNote(value);\n  };\n\n  const handleClickUpdateButton = async () => {\n    try {\n      const res = await fetch(\n        `${process.env.API_URL}/api/partners/clients/friends/${uuid}`,\n        {\n          method: 'PUT',\n          body: JSON.stringify({\n            friendName,\n            yourName,\n            note,\n            updatedBy: 'user'\n          })\n        }\n      );\n\n      if (res.status >= 400) {\n        throw new Error('Bad response /api/partners/clients');\n      }\n\n      const {\n        friendName: _friendName,\n        yourName: _yourName,\n        note: _note,\n        createdAt: _createdAt,\n        updatedAt: _updatedAt,\n        createdBy: _createdBy,\n        updatedBy: _updatedBy\n      } = await res.json();\n\n      setInitialFriendName(_friendName);\n      setInitialYourName(_yourName);\n      setInitialNote(_note);\n\n      setFriendName(_friendName);\n      setYourName(_yourName);\n      setNote(_note);\n      setDisabledUpdateButton(true);\n      setDisabledUndoButton(true);\n      setCreatedAt(_createdAt);\n      setUpdatedAt(_updatedAt);\n      setCreatedBy(_createdBy);\n      setUpdatedBy(_updatedBy);\n    } catch (e) {\n      alert('error');\n      console.log(e);\n    }\n  };\n\n  const handleClickUndoButton = () => {\n    setFriendName(initialFriendName);\n    setYourName(initialYourName);\n    setNote(initialNote);\n    setDisabledUpdateButton(true);\n    setDisabledUndoButton(true);\n  };\n\n  const handleClickDeleteButton = () => setIsOpenDialog(true);\n\n  const handleClickDeleteOk = async () => {\n    try {\n      const res = await fetch(\n        `${process.env.API_URL}/api/partners/clients/friends/${uuid}`,\n        {\n          method: 'DELETE'\n        }\n      );\n\n      if (res.status >= 400) {\n        throw new Error('Bad response /api/partners/clients/friends');\n      }\n\n      props.reload();\n      setIsOpenDialog(false);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const handleCloseDialog = () => setIsOpenDialog(false);\n\n  return (\n    <>\n      <TableRow\n        hover={true}\n        selected={!disabledUpdateButton || !disabledUndoButton}\n      >\n        <TableCell>\n          <Link href={shareUrl} target='_blank'>\n            <img\n              src={qrImage}\n              style={{\n                width: '100px',\n                height: '100px'\n              }}\n            />\n          </Link>\n        </TableCell>\n        <TableCell>\n          <TextField\n            value={friendName}\n            onChange={handleChangeFriendName}\n            InputProps={{\n              endAdornment: <InputAdornment position='end'>様</InputAdornment>\n            }}\n          />\n        </TableCell>\n        <TableCell>\n          <TextField\n            value={yourName}\n            onChange={handleChangeYourName}\n            InputProps={{\n              endAdornment: <InputAdornment position='end'>様</InputAdornment>\n            }}\n          />\n        </TableCell>\n        <TableCell>\n          <TextField value={note} multiline onChange={handleChangeNote} />\n        </TableCell>\n        <TableCell>\n          <Stack direction='row' spacing={1}>\n            <Tooltip title='このレコードの変更を保存する'>\n              <span>\n                <IconButton\n                  color='primary'\n                  aria-label='update'\n                  size='large'\n                  disabled={disabledUpdateButton}\n                  onClick={handleClickUpdateButton}\n                >\n                  <SaveAsIcon fontSize='inherit' />\n                </IconButton>\n              </span>\n            </Tooltip>\n            <Tooltip title='このレコードの変更を元に戻す'>\n              <span>\n                <IconButton\n                  aria-label='undo'\n                  size='large'\n                  disabled={disabledUndoButton}\n                  onClick={handleClickUndoButton}\n                >\n                  <UndoIcon fontSize='inherit' />\n                </IconButton>\n              </span>\n            </Tooltip>\n            <Tooltip title='このレコードを削除する'>\n              <IconButton\n                color='error'\n                aria-label='delete'\n                size='large'\n                onClick={handleClickDeleteButton}\n              >\n                <DeleteForeverIcon fontSize='inherit' />\n              </IconButton>\n            </Tooltip>\n          </Stack>\n        </TableCell>\n        <TableCell>\n          <Typography variant='body2'>\n            {dateFormat(createdAt)} <small>作成 ({createdBy})</small>\n          </Typography>\n          <Typography variant='body2'>\n            {dateFormat(updatedAt)} <small>更新 ({updatedBy})</small>\n          </Typography>\n        </TableCell>\n      </TableRow>\n      <Dialog\n        open={isOpenDialog}\n        onClose={handleCloseDialog}\n        aria-labelledby='alert-dialog-title'\n        aria-describedby='alert-dialog-description'\n      >\n        <DialogTitle id='alert-dialog-title'>\n          このレコードの削除しますか？\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id='alert-dialog-description'>\n            ご友人、ご知人のお名前　: {initialFriendName}\n            <br />\n            お名前　: {initialYourName}\n            <br />\n            メモ　　: {initialNote}\n            <br />\n            作成日時: {dateFormat(createdAt)} ({createdBy})\n            <br />\n            更新日時: {dateFormat(updatedAt)} ({updatedBy})\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleCloseDialog}>キャンセル</Button>\n          <Button onClick={handleClickDeleteOk} autoFocus>\n            削除する\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n\nexport default ClientsFriends;\n","import React, { useEffect, useState } from 'react';\nimport { Helmet } from 'react-helmet';\nimport fetch from 'cross-fetch';\nimport Alert from '@mui/material/Alert';\nimport AppBar from '@mui/material/AppBar';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Container from '@mui/material/Container';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport LinearProgress from '@mui/material/LinearProgress';\nimport Snackbar from '@mui/material/Snackbar';\nimport Stack from '@mui/material/Stack';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport TextField from '@mui/material/TextField';\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport AddIcon from '@mui/icons-material/Add';\nimport ClientsFriendsTableRow from '@components/invitations/clients-friends';\nimport { useQueryParam, StringParam } from 'use-query-params';\n\nconst InvitationsIndexPage = () => {\n  const [isOpenSnackbar, setIsOpenSnackbar] = useState(false);\n  const [severity, setSeverity] = useState('info');\n  const [message, setMessage] = useState('');\n\n  // 新規作成フォーム\n  const [newFriendName, setNewFriendName] = useState('');\n  const [newYourName, setNewYourName] = useState('');\n  const [newFriendNote, setNewFriendNote] = useState('');\n  const [isDisabledNewButton, setIsDisabledNewButton] = useState(true);\n  const [partnersClientUuid] = useQueryParam('uuid', StringParam);\n  const [clientsFriends, setClientsFriends] = useState();\n  const [yourName, setYourName] = useState('');\n  const [yourPartnerName, setYourPartnerName] = useState('');\n  const [isNotFound, setIsNotFound] = useState(false);\n\n  const [reload, setReload] = useState(0);\n\n  const handleCloseSnackbar = (e, reason) => {\n    if (reason === 'clickaway') return;\n    setIsOpenSnackbar(false);\n  };\n\n  const handleChangeNewClientNote = ({ target: { value } }) =>\n    setNewFriendNote(value);\n\n  useEffect(() => {\n    if (!partnersClientUuid) return;\n\n    const f = async () => {\n      try {\n        const resInfo = await fetch(\n          `${process.env.API_URL}/api/partners/clients/${partnersClientUuid}`\n        );\n\n        if (resInfo.status === 404) {\n          setIsNotFound(true);\n          throw new Error('Bad response /api/partners/clients/{uuid}');\n        }\n\n        const res = await fetch(\n          `${process.env.API_URL}/api/partners/clients/friends?partners-client-uuid=${partnersClientUuid}`\n        );\n\n        if (res.status >= 400) {\n          throw new Error('Bad response /api/partners/clients/friends{uuid}');\n        }\n\n        const infoData = await resInfo.json();\n        const data = await res.json();\n\n        setYourName(infoData.name);\n        setYourPartnerName(infoData.partner.lastNameKanji);\n        setClientsFriends(data);\n\n        setNewYourName(infoData.name);\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    f();\n  }, [reload, partnersClientUuid, isNotFound]);\n\n  if (isNotFound) {\n    return (\n      <Typography align='center' mt={5}>\n        お探しのページは削除されたか見つかりません。\n        <br />\n        <a href='https://daruma-inv.com/'>https://daruma-inv.com/</a>\n      </Typography>\n    );\n  }\n\n  return !partnersClientUuid ? (\n    <></>\n  ) : (\n    <>\n      <Helmet>\n        <title>お客様ご紹介ページ | DARUMA, Inc.</title>\n      </Helmet>\n      <AppBar position='fixed' sx={{ backgroundColor: '#ef8468' }}>\n        <Container maxWidth='xl'>\n          <Toolbar disableGutters>\n            <Typography\n              variant='h6'\n              noWrap\n              fontWeight='bold'\n              sx={{ mr: 2, display: 'flex', alignItems: 'center' }}\n            >\n              {yourName} 様専用 お客様ご紹介ページ <small>(by DARUMA)</small>\n            </Typography>\n            <Box sx={{ flexGrow: 1, display: { xs: 'none', md: 'flex' } }} />\n            <Box display='flex' flexDirection='row' alignItems='center'>\n              <Box\n                display='flex'\n                flexDirection='column'\n                alignItems='center'\n                justifyContent='center'\n              >\n                <Typography fontSize={14} fontWeight='bold'>\n                  DARUMA, Inc.\n                </Typography>\n                <Typography fontSize={10}>[お客様限定]</Typography>\n              </Box>\n            </Box>\n          </Toolbar>\n        </Container>\n      </AppBar>\n      <Container\n        maxWidth='xl'\n        sx={{\n          mt: 10\n        }}\n      >\n        <Typography>\n          <strong>{yourName}</strong>様、DARUMAの {yourPartnerName}{' '}\n          です。いつもお世話になっております。\n        </Typography>\n        <Typography>\n          この機会にぜひご友人、ご知人に DARUMA をご紹介くださいませ。\n        </Typography>\n        <Box\n          display='flex'\n          my={2}\n          pl={2}\n          py={4}\n          sx={{\n            border: '2px solid #ccc',\n            borderRadius: 2\n          }}\n        >\n          <TextField\n            label='ご友人・ご知人のお名前（ニックネーム可）'\n            variant='outlined'\n            value={newFriendName}\n            sx={{\n              width: 320\n            }}\n            InputProps={{\n              endAdornment: <InputAdornment position='end'>様</InputAdornment>\n            }}\n            onChange={e => {\n              const _newFriendName = e.target.value;\n              setNewFriendName(_newFriendName);\n              setIsDisabledNewButton(!newYourName || !_newFriendName);\n            }}\n          />\n\n          <TextField\n            label='お客様のご氏名（ニックネーム可）'\n            variant='outlined'\n            value={newYourName}\n            InputProps={{\n              endAdornment: <InputAdornment position='end'>様</InputAdornment>\n            }}\n            sx={{\n              width: 240\n            }}\n            onChange={e => {\n              const _newYourName = e.target.value;\n              setNewYourName(_newYourName);\n              setIsDisabledNewButton(!_newYourName || !newFriendName);\n            }}\n          />\n\n          <TextField\n            label='メモ'\n            variant='outlined'\n            multiline\n            value={newFriendNote}\n            onChange={handleChangeNewClientNote}\n            sx={{\n              minWidth: 320\n            }}\n          />\n          <Button\n            variant='contained'\n            color='primary'\n            startIcon={<AddIcon />}\n            disabled={isDisabledNewButton}\n            onClick={async () => {\n              try {\n                const res = await fetch(\n                  `${process.env.API_URL}/api/partners/clients/friends`,\n                  {\n                    method: 'POST',\n                    body: JSON.stringify({\n                      partnersClientUuid,\n                      friendName: newFriendName,\n                      yourName: newYourName,\n                      note: newFriendNote,\n                      createdBy: 'user'\n                    })\n                  }\n                );\n\n                if (res.status >= 400) {\n                  throw new Error('Bad response /api/partners/clients');\n                }\n\n                setIsOpenSnackbar(true);\n                setSeverity('success');\n                setMessage(`${newFriendName} 様の情報を追加しました`);\n\n                setNewFriendName('');\n                setNewYourName('');\n                setNewFriendNote('');\n                setIsDisabledNewButton(true);\n\n                setReload(reload + 1);\n              } catch (e) {\n                alert('error');\n                console.log(e);\n              }\n            }}\n          >\n            新規作成\n          </Button>\n        </Box>\n        <TableContainer>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell>URL</TableCell>\n                <TableCell>ご友人・ご知人のお名前</TableCell>\n                <TableCell>お客様の氏名（ニックネーム可）</TableCell>\n                <TableCell>メモ</TableCell>\n                <TableCell>操作</TableCell>\n                <TableCell>タイムスタンプ</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {clientsFriends === undefined || !clientsFriends[0] ? (\n                <TableRow>\n                  <TableCell colSpan={6}>\n                    <Typography align='center'>\n                      {clientsFriends === undefined ? (\n                        <>\n                          Loading...\n                          <LinearProgress />\n                        </>\n                      ) : (\n                        'まだご紹介データがありません。『新規作成』より作成ください。'\n                      )}\n                    </Typography>\n                  </TableCell>\n                </TableRow>\n              ) : (\n                clientsFriends.map((clientsFriend, i) => (\n                  <ClientsFriendsTableRow\n                    key={i}\n                    clientsFriend={clientsFriend}\n                    reload={() => setReload(reload + 1)}\n                  />\n                ))\n              )}\n            </TableBody>\n          </Table>\n        </TableContainer>\n        <Stack spacing={2} sx={{ width: '100%' }}>\n          <Snackbar\n            open={isOpenSnackbar}\n            autoHideDuration={5000}\n            onClose={handleCloseSnackbar}\n          >\n            <Alert severity={severity}>{message}</Alert>\n          </Snackbar>\n        </Stack>\n      </Container>\n    </>\n  );\n};\n\nexport default InvitationsIndexPage;\n"],"names":["props","useState","clientsFriend","friendName","initialFriendName","setInitialFriendName","yourName","initialYourName","setInitialYourName","note","initialNote","setInitialNote","uuid","setUuid","setFriendName","setYourName","setNote","disabledUpdateButton","setDisabledUpdateButton","disabledUndoButton","setDisabledUndoButton","createdAt","setCreatedAt","updatedAt","setUpdatedAt","createdBy","setCreatedBy","updatedBy","setUpdatedBy","isOpenDialog","setIsOpenDialog","shareUrl","setShareUrl","qrImage","setQrImage","useEffect","_shareUrl","process","f","qr","_qrImage","console","error","handleClickUpdateButton","fetch","method","body","JSON","stringify","res","status","Error","json","_friendName","_yourName","_note","_createdAt","_updatedAt","_createdBy","_updatedBy","alert","log","handleClickDeleteOk","reload","handleCloseDialog","TableRow","hover","selected","TableCell","Link","href","target","src","style","width","height","TextField","value","onChange","isDiff","InputProps","endAdornment","InputAdornment","position","multiline","Stack","direction","spacing","Tooltip","title","IconButton","color","size","disabled","onClick","SaveAs","fontSize","Undo","DeleteForever","Typography","variant","dateFormat","Dialog","open","onClose","DialogTitle","id","DialogContent","DialogContentText","DialogActions","Button","autoFocus","isOpenSnackbar","setIsOpenSnackbar","severity","setSeverity","message","setMessage","newFriendName","setNewFriendName","newYourName","setNewYourName","newFriendNote","setNewFriendNote","isDisabledNewButton","setIsDisabledNewButton","partnersClientUuid","useQueryParam","StringParam","clientsFriends","setClientsFriends","yourPartnerName","setYourPartnerName","isNotFound","setIsNotFound","setReload","resInfo","infoData","data","name","partner","lastNameKanji","align","mt","Helmet","AppBar","sx","backgroundColor","Container","maxWidth","Toolbar","disableGutters","noWrap","fontWeight","mr","display","alignItems","Box","flexGrow","xs","md","flexDirection","justifyContent","my","pl","py","border","borderRadius","label","e","_newFriendName","_newYourName","minWidth","startIcon","Add","TableContainer","Table","TableHead","TableBody","undefined","map","i","key","colSpan","LinearProgress","Snackbar","autoHideDuration","reason","Alert"],"sourceRoot":""}