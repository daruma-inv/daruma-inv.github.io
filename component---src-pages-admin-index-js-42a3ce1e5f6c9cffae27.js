(self.webpackChunkcorporate=self.webpackChunkcorporate||[]).push([[355],{9283:function(e,t,r){"use strict";var n=r(5318);t.Z=void 0;var o=n(r(2174)),a=r(5893),i=(0,o.default)((0,a.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}),"Logout");t.Z=i},7499:function(e,t,r){"use strict";r.d(t,{Z:function(){return N}});var n=r(7294),o=r(5444);function a(e){this.message=e}a.prototype=new Error,a.prototype.name="InvalidCharacterError";var i="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new a("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,o=0,i=0,l="";n=t.charAt(i++);~n&&(r=o%4?64*r+n:n,o++%4)?l+=String.fromCharCode(255&r>>(-2*o&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return l};function l(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(i(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(e){return i(t)}}function c(e){this.message=e}c.prototype=new Error,c.prototype.name="InvalidTokenError";var s=function(e,t){if("string"!=typeof e)throw new c("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(l(e.split(".")[r]))}catch(e){throw new c("Invalid token specified: "+e.message)}},u=r(6320),d=r(4699),m=r(9756),f=r(2122),v=r(5505),g=r(9408),p=r(8348),h=r(2371),w=r(2067),Z=r(5893),x=(0,w.Z)((0,Z.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),y=r(8416);function E(e){return(0,y.Z)("MuiAvatar",e)}(0,r(2194).Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var S=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],b=(0,p.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,r=e.ownerState;return(0,f.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===r.variant&&{borderRadius:t.shape.borderRadius},"square"===r.variant&&{borderRadius:0},r.colorDefault&&{color:t.palette.background.default,backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]})})),k=(0,p.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),I=(0,p.ZP)(x,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var A=n.forwardRef((function(e,t){var r=(0,h.Z)({props:e,name:"MuiAvatar"}),o=r.alt,a=r.children,i=r.className,l=r.component,c=void 0===l?"div":l,s=r.imgProps,u=r.sizes,p=r.src,w=r.srcSet,x=r.variant,y=void 0===x?"circular":x,A=(0,m.Z)(r,S),C=null,D=function(e){var t=e.crossOrigin,r=e.referrerPolicy,o=e.src,a=e.srcSet,i=n.useState(!1),l=(0,d.Z)(i,2),c=l[0],s=l[1];return n.useEffect((function(){if(o||a){s(!1);var e=!0,n=new Image;return n.onload=function(){e&&s("loaded")},n.onerror=function(){e&&s("error")},n.crossOrigin=t,n.referrerPolicy=r,n.src=o,a&&(n.srcset=a),function(){e=!1}}}),[t,r,o,a]),c}((0,f.Z)({},s,{src:p,srcSet:w})),M=p||w,R=M&&"error"!==D,z=(0,f.Z)({},r,{colorDefault:!R,component:c,variant:y}),j=function(e){var t=e.classes,r={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,g.Z)(r,E,t)}(z);return C=R?(0,Z.jsx)(k,(0,f.Z)({alt:o,src:p,srcSet:w,sizes:u,ownerState:z,className:j.img},s)):null!=a?a:M&&o?o[0]:(0,Z.jsx)(I,{className:j.fallback}),(0,Z.jsx)(b,(0,f.Z)({as:c,ownerState:z,className:(0,v.Z)(j.root,i),ref:t},A,{children:C}))})),C=r(5190),D=r(9211),M=r(6968),R=r(5616),z=r(7098),j=r(9308),O=r(9283),L="com.daruma-inv.admin",N=function(e){var t=e.children,r=(0,n.useState)(!1),a=r[0],i=r[1],l=(0,n.useState)(!1),c=l[0],d=l[1],m=(0,n.useState)(""),f=m[0],v=m[1],g=(0,n.useState)(""),p=(g[0],g[1]),h=(0,n.useState)(""),w=(h[0],h[1]),Z=(0,n.useState)(""),x=Z[0],y=Z[1],E=(0,n.useState)(""),S=E[0],b=E[1],k=function(){v(""),p(""),w(""),y(""),b(""),e.setUsername&&e.setUsername("")};(0,n.useEffect)((function(){var t=function(){window.google.accounts.id.initialize({client_id:"137389090265-9p2asf68ustrc46nemdmmi8d4l5gnapm.apps.googleusercontent.com",callback:function(e){var t=e.credential,r=s(t).email;if(!/@daruma-inv.com$/.test(r)&&"koujirou0111@gmail.com"!==r&&"oxwm.system@gmail.com"!==r)return d(!0),void i(!1);window.localStorage.setItem(L,t),i(!0)}}),window.google.accounts.id.renderButton(document.getElementById("buttonDiv"),{theme:"outline",size:"large"}),window.google.accounts.id.prompt()},r=function(){var e=document.createElement("script");e.src="https://accounts.google.com/gsi/client",e.addEventListener("load",t),document.body.appendChild(e)},n=function(){var t=window.localStorage.getItem(L);if(!t)return k(),i(!1),void r();var n=s(t);if(!n)return k(),i(!1),void r();v(n.email),p(n.family_name),w(n.given_name),y(n.name),b(n.picture),d(!1),i(!0),e.setUsername&&e.setUsername(n.name)};return"complete"===document.readyState?n():window.addEventListener("load",n),function(){window.removeEventListener("load",n)}}),[a]);return a?n.createElement(n.Fragment,null,n.createElement(C.Z,{position:"fixed",sx:{backgroundColor:"#333"}},n.createElement(R.Z,{maxWidth:"xl"},n.createElement(z.Z,{disableGutters:!0},n.createElement(j.Z,{variant:"h6",noWrap:!0,component:"div",fontWeight:"bold",sx:{mr:2,display:"flex"},onClick:function(){return(0,o.navigate)("/admin/")}},"DARUMA ADMIN TOOLS"),n.createElement(D.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}}},n.createElement(M.Z,{sx:{color:"#fff"},onClick:function(){return(0,o.navigate)("/admin/invitations/")}},"紹介システム")),n.createElement(M.Z,{variant:"contained",color:"error",startIcon:n.createElement(O.Z,null),onClick:function(){var e,t,r,n;null===(e=window)||void 0===e||null===(t=e.google)||void 0===t||null===(r=t.accounts)||void 0===r||null===(n=r.id)||void 0===n||n.disableAutoSelect(),window.localStorage.removeItem(L),k(),i(!1)},sx:{mx:2}},"ログアウト"),n.createElement(D.Z,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(D.Z,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},n.createElement(j.Z,{fontSize:14,fontWeight:"bold"},x),n.createElement(j.Z,{fontSize:10},"(",f,")")),n.createElement(A,{src:S,sx:{ml:1}}))))),n.createElement(R.Z,{maxWidth:"xl",sx:{mt:10}},t)):n.createElement(n.Fragment,null,n.createElement(R.Z,{sx:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},n.createElement(D.Z,{my:2},n.createElement(j.Z,{variant:"h6"},"DARUMA ADMIN TOOLS")),n.createElement(D.Z,null,n.createElement(D.Z,{id:"buttonDiv",sx:{display:"flex",justifyContent:"center"}}),n.createElement(u.Z,{severity:"error",sx:{opacity:c?1:0,pointerEvents:"none"}},"この Google アカウントのログインは許可していません。"))))}},7415:function(e,t,r){"use strict";r.r(t);var n=r(7294),o=r(9308),a=r(7499);t.default=function(){return n.createElement(a.Z,null,n.createElement(o.Z,{variant:"h6"},"DARUMA ADMIN TOOLS"))}}}]);
//# sourceMappingURL=component---src-pages-admin-index-js-42a3ce1e5f6c9cffae27.js.map