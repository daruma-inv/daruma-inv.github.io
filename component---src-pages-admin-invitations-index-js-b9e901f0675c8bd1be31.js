(self.webpackChunkcorporate=self.webpackChunkcorporate||[]).push([[924],{9283:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var a=r(n(2174)),i=n(5893),o=(0,a.default)((0,i.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}),"Logout");t.Z=o},7499:function(e,t,n){"use strict";n.d(t,{Z:function(){return z}});var r=n(7294),a=n(5444);function i(e){this.message=e}i.prototype=new Error,i.prototype.name="InvalidCharacterError";var o="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new i("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,a=0,o=0,l="";r=t.charAt(o++);~r&&(n=a%4?64*n+r:r,a++%4)?l+=String.fromCharCode(255&n>>(-2*a&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return l};function l(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(o(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return o(t)}}function c(e){this.message=e}c.prototype=new Error,c.prototype.name="InvalidTokenError";var s=function(e,t){if("string"!=typeof e)throw new c("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(l(e.split(".")[n]))}catch(e){throw new c("Invalid token specified: "+e.message)}},u=n(6320),d=n(4699),m=n(9756),p=n(2122),f=n(5505),v=n(9408),g=n(8348),Z=n(2371),h=n(2067),E=n(5893),b=(0,h.Z)((0,E.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),y=n(8416);function x(e){return(0,y.Z)("MuiAvatar",e)}(0,n(2194).Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var w=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],S=(0,g.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return(0,p.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:t.shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&{color:t.palette.background.default,backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]})})),k=(0,g.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),P=(0,g.ZP)(b,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var C=r.forwardRef((function(e,t){var n=(0,Z.Z)({props:e,name:"MuiAvatar"}),a=n.alt,i=n.children,o=n.className,l=n.component,c=void 0===l?"div":l,s=n.imgProps,u=n.sizes,g=n.src,h=n.srcSet,b=n.variant,y=void 0===b?"circular":b,C=(0,m.Z)(n,w),I=null,A=function(e){var t=e.crossOrigin,n=e.referrerPolicy,a=e.src,i=e.srcSet,o=r.useState(!1),l=(0,d.Z)(o,2),c=l[0],s=l[1];return r.useEffect((function(){if(a||i){s(!1);var e=!0,r=new Image;return r.onload=function(){e&&s("loaded")},r.onerror=function(){e&&s("error")},r.crossOrigin=t,r.referrerPolicy=n,r.src=a,i&&(r.srcset=i),function(){e=!1}}}),[t,n,a,i]),c}((0,p.Z)({},s,{src:g,srcSet:h})),M=g||h,j=M&&"error"!==A,D=(0,p.Z)({},n,{colorDefault:!j,component:c,variant:y}),R=function(e){var t=e.classes,n={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,v.Z)(n,x,t)}(D);return I=j?(0,E.jsx)(k,(0,p.Z)({alt:a,src:g,srcSet:h,sizes:u,ownerState:D,className:R.img},s)):null!=i?i:M&&a?a[0]:(0,E.jsx)(P,{className:R.fallback}),(0,E.jsx)(S,(0,p.Z)({as:c,ownerState:D,className:(0,f.Z)(R.root,o),ref:t},C,{children:I}))})),I=n(5190),A=n(9211),M=n(6968),j=n(5616),D=n(7098),R=n(9308),B=n(9283),N="com.daruma-inv.admin",z=function(e){var t=e.children,n=(0,r.useState)(!1),i=n[0],o=n[1],l=(0,r.useState)(!1),c=l[0],d=l[1],m=(0,r.useState)(""),p=m[0],f=m[1],v=(0,r.useState)(""),g=(v[0],v[1]),Z=(0,r.useState)(""),h=(Z[0],Z[1]),E=(0,r.useState)(""),b=E[0],y=E[1],x=(0,r.useState)(""),w=x[0],S=x[1],k=function(){f(""),g(""),h(""),y(""),S(""),e.setUsername&&e.setUsername("")};(0,r.useEffect)((function(){var t=function(){window.google.accounts.id.initialize({client_id:"137389090265-9p2asf68ustrc46nemdmmi8d4l5gnapm.apps.googleusercontent.com",callback:function(e){var t=e.credential,n=s(t).email;if(!/@daruma-inv.com$/.test(n)&&"koujirou0111@gmail.com"!==n&&"oxwm.system@gmail.com"!==n)return d(!0),void o(!1);window.localStorage.setItem(N,t),o(!0)}}),window.google.accounts.id.renderButton(document.getElementById("buttonDiv"),{theme:"outline",size:"large"}),window.google.accounts.id.prompt()},n=function(){var e=document.createElement("script");e.src="https://accounts.google.com/gsi/client",e.addEventListener("load",t),document.body.appendChild(e)},r=function(){var t=window.localStorage.getItem(N);if(!t)return k(),o(!1),void n();var r=s(t);if(!r)return k(),o(!1),void n();f(r.email),g(r.family_name),h(r.given_name),y(r.name),S(r.picture),d(!1),o(!0),e.setUsername&&e.setUsername(r.name)};return"complete"===document.readyState?r():window.addEventListener("load",r),function(){window.removeEventListener("load",r)}}),[i]);return i?r.createElement(r.Fragment,null,r.createElement(I.Z,{position:"fixed",sx:{backgroundColor:"#333"}},r.createElement(j.Z,{maxWidth:"xl"},r.createElement(D.Z,{disableGutters:!0},r.createElement(R.Z,{variant:"h6",noWrap:!0,component:"div",fontWeight:"bold",sx:{mr:2,display:"flex"},onClick:function(){return(0,a.navigate)("/admin/")}},"DARUMA ADMIN TOOLS"),r.createElement(A.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}}},r.createElement(M.Z,{sx:{color:"#fff"},onClick:function(){return(0,a.navigate)("/admin/invitations/")}},"紹介システム")),r.createElement(M.Z,{variant:"contained",color:"error",startIcon:r.createElement(B.Z,null),onClick:function(){var e,t,n,r;null===(e=window)||void 0===e||null===(t=e.google)||void 0===t||null===(n=t.accounts)||void 0===n||null===(r=n.id)||void 0===r||r.disableAutoSelect(),window.localStorage.removeItem(N),k(),o(!1)},sx:{mx:2}},"ログアウト"),r.createElement(A.Z,{display:"flex",flexDirection:"row",alignItems:"center"},r.createElement(A.Z,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},r.createElement(R.Z,{fontSize:14,fontWeight:"bold"},b),r.createElement(R.Z,{fontSize:10},"(",p,")")),r.createElement(C,{src:w,sx:{ml:1}}))))),r.createElement(j.Z,{maxWidth:"xl",sx:{mt:10}},t)):r.createElement(r.Fragment,null,r.createElement(j.Z,{sx:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.createElement(A.Z,{my:2},r.createElement(R.Z,{variant:"h6"},"DARUMA ADMIN TOOLS")),r.createElement(A.Z,null,r.createElement(A.Z,{id:"buttonDiv",sx:{display:"flex",justifyContent:"center"}}),r.createElement(u.Z,{severity:"error",sx:{opacity:c?1:0,pointerEvents:"none"}},"この Google アカウントのログインは許可していません。"))))}},5477:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return me}});var r=n(2137),a=n(7757),i=n.n(a),o=n(7294),l=n(4944),c=n.n(l),s=n(6320),u=n(9211),d=n(6968),m=n(3827),p=n(8423),f=n(4334),v=n(5437),g=n(6156),Z=n(9756),h=n(2122),E=n(5505),b=n(9408),y=n(7663),x=n(8348),w=n(2371),S=n(8267),k=n(1919),P=n(4026),C=n(5973),I=n(2194);var A=(0,I.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var M=(0,I.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);var j=(0,I.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),D=n(8416);function R(e){return(0,D.Z)("MuiMenuItem",e)}var B=(0,I.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),N=n(5893),z=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],O=(0,x.ZP)(k.Z,{shouldForwardProp:function(e){return(0,x.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,h.Z)({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:"1px solid ".concat(n.palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:n.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,g.Z)(t,"&.".concat(B.selected),(0,g.Z)({backgroundColor:(0,y.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(B.focusVisible),{backgroundColor:(0,y.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,g.Z)(t,"&.".concat(B.selected,":hover"),{backgroundColor:(0,y.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,y.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,g.Z)(t,"&.".concat(B.focusVisible),{backgroundColor:n.palette.action.focus}),(0,g.Z)(t,"&.".concat(B.disabled),{opacity:n.palette.action.disabledOpacity}),(0,g.Z)(t,"& + .".concat(A.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),(0,g.Z)(t,"& + .".concat(A.inset),{marginLeft:52}),(0,g.Z)(t,"& .".concat(j.root),{marginTop:0,marginBottom:0}),(0,g.Z)(t,"& .".concat(j.inset),{paddingLeft:36}),(0,g.Z)(t,"& .".concat(M.root),{minWidth:36}),t),!r.dense&&(0,g.Z)({},n.breakpoints.up("sm"),{minHeight:"auto"}),r.dense&&(0,h.Z)({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,(0,g.Z)({},"& .".concat(M.root," svg"),{fontSize:"1.25rem"})))})),L=o.forwardRef((function(e,t){var n=(0,w.Z)({props:e,name:"MuiMenuItem"}),r=n.autoFocus,a=void 0!==r&&r,i=n.component,l=void 0===i?"li":i,c=n.dense,s=void 0!==c&&c,u=n.divider,d=void 0!==u&&u,m=n.disableGutters,p=void 0!==m&&m,f=n.focusVisibleClassName,v=n.role,g=void 0===v?"menuitem":v,y=n.tabIndex,x=(0,Z.Z)(n,z),k=o.useContext(S.Z),I={dense:s||k.dense||!1,disableGutters:p},A=o.useRef(null);(0,P.Z)((function(){a&&A.current&&A.current.focus()}),[a]);var M,j=(0,h.Z)({},n,{dense:I.dense,divider:d,disableGutters:p}),D=function(e){var t=e.disabled,n=e.dense,r=e.divider,a=e.disableGutters,i=e.selected,o=e.classes,l={root:["root",n&&"dense",t&&"disabled",!a&&"gutters",r&&"divider",i&&"selected"]},c=(0,b.Z)(l,R,o);return(0,h.Z)({},o,c)}(n),B=(0,C.Z)(A,t);return n.disabled||(M=void 0!==y?y:-1),(0,N.jsx)(S.Z.Provider,{value:I,children:(0,N.jsx)(O,(0,h.Z)({ref:B,role:g,tabIndex:M,component:l,focusVisibleClassName:(0,E.Z)(D.focusVisible,f)},x,{ownerState:j,classes:D}))})})),F=n(4983),T=n(5749),U=n(4382),V=n(2664),G=n(7783),W=n(943),H=n(5319),q=n(7708),K=n(3182),_=n(7216),J=n(9308),$=n(3015),Q=n(7499),X=n(1359),Y=n(8599),ee=n(6763),te=n(460),ne=n(5497),re=n(581),ae=n(6190),ie=n(26),oe=n(5985),le=n(9656),ce=n(7962),se=n(5421),ue=n(631),de=function(e){var t=(0,o.useState)(e.clientsPartner.name),n=t[0],a=t[1],l=(0,o.useState)(e.clientsPartner.partnerId),s=l[0],u=l[1],m=(0,o.useState)(e.clientsPartner.note),f=m[0],v=m[1],g=(0,o.useState)(e.clientsPartner.uuid),Z=g[0],h=g[1],E=(0,o.useState)(e.clientsPartner.name),b=E[0],y=E[1],x=(0,o.useState)(e.clientsPartner.partnerId),w=x[0],S=x[1],k=(0,o.useState)(e.clientsPartner.note),P=k[0],C=k[1],I=(0,o.useState)(!0),A=I[0],M=I[1],j=(0,o.useState)(!0),D=j[0],R=j[1],B=(0,o.useState)(e.clientsPartner.createdAt),N=B[0],z=B[1],O=(0,o.useState)(e.clientsPartner.updatedAt),T=O[0],V=O[1],G=(0,o.useState)(e.clientsPartner.createdBy),H=G[0],q=G[1],$=(0,o.useState)(e.clientsPartner.updatedBy),Q=$[0],de=$[1],me=(0,o.useState)(!1),pe=me[0],fe=me[1],ve=(0,o.useState)(""),ge=ve[0],Ze=ve[1],he=(0,o.useState)(""),Ee=he[0],be=he[1];(0,o.useEffect)((function(){var t="https://daruma-inv.com/invitations/?uuid="+e.clientsPartner.uuid;(function(){var e=(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.toDataURL(t);case 3:n=e.sent,be(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()(),Ze(t),a(e.clientsPartner.name),u(e.clientsPartner.partnerId),v(e.clientsPartner.note),h(e.clientsPartner.uuid),y(e.clientsPartner.name),S(e.clientsPartner.partnerId),C(e.clientsPartner.note),M(!0),R(!0),z(e.clientsPartner.createdAt),V(e.clientsPartner.updatedAt),q(e.clientsPartner.createdBy),de(e.clientsPartner.updatedBy),fe(!1)}),[e.clientsPartner.uuid,e.clientsPartner.name,e.clientsPartner.partnerId,e.clientsPartner.note,e.clientsPartner.createdAt,e.clientsPartner.updatedAt,e.clientsPartner.createdBy,e.clientsPartner.updatedBy,e.username]);var ye,xe=function(){var t=(0,r.Z)(i().mark((function t(){var n,r,o,l,s,d,m,p,f;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c()("https://api.eleven-cloud.com/api/partners/clients/"+Z,{method:"PUT",body:JSON.stringify({name:b,partnerId:w,note:P,updatedBy:e.username})});case 3:if(!((n=t.sent).status>=400)){t.next=6;break}throw new Error("Bad response /api/partners/clients");case 6:return t.next=8,n.json();case 8:r=t.sent,o=r.name,l=r.partnerId,s=r.note,d=r.createdAt,m=r.updatedAt,p=r.createdBy,f=r.updatedBy,a(o),u(l),v(s),y(o),S(l),C(s),M(!0),R(!0),z(d),V(m),q(p),de(f),t.next=34;break;case 30:t.prev=30,t.t0=t.catch(0),alert("error"),console.log(t.t0);case 34:case"end":return t.stop()}}),t,null,[[0,30]])})));return function(){return t.apply(this,arguments)}}(),we=function(){var t=(0,r.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c()("https://api.eleven-cloud.com/api/partners/clients/"+e.clientsPartner.uuid,{method:"DELETE"});case 3:if(!(t.sent.status>=400)){t.next=6;break}throw new Error("Bad response /api/partners/clients");case 6:e.reload(),fe(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),Se=function(){return fe(!1)};return o.createElement(o.Fragment,null,o.createElement(K.Z,{hover:!0,selected:!A||!D},o.createElement(W.Z,null,o.createElement(ae.Z,{href:ge,target:"_blank"},o.createElement("img",{src:Ee,style:{width:"100px",height:"100px"}}))),o.createElement(W.Z,null,o.createElement(_.Z,{value:b,onChange:function(e){var t=e.target.value,r=t!==n||w!==s||P!==f;M(!(t&&r)),R(!r),y(t)},InputProps:{endAdornment:o.createElement(p.Z,{position:"end"},"様")}})),o.createElement(W.Z,null,o.createElement(F.Z,{value:w,onChange:function(e){var t=e.target.value,r=b!==n||t!==s||P!==f;M(!(b&&r)),R(!r),S(t)}},e.partners.map((function(e,t){var n=e.uuid,r=e.lastNameKanji,a=e.firstNameKanji;return o.createElement(L,{key:t,value:n},r," ",a)})))),o.createElement(W.Z,null,o.createElement(_.Z,{value:P,multiline:!0,onChange:function(e){var t=e.target.value,r=b!==n||w!==s||t!==f;M(!(b&&r)),R(!r),C(t)}})),o.createElement(W.Z,null,o.createElement(U.Z,{direction:"row",spacing:1},o.createElement(ie.Z,{title:"このレコードの変更を保存する"},o.createElement("span",null,o.createElement(re.Z,{color:"primary","aria-label":"update",size:"large",disabled:A,onClick:xe},o.createElement(le.Z,{fontSize:"inherit"})))),o.createElement(ie.Z,{title:"このレコードの変更を元に戻す"},o.createElement("span",null,o.createElement(re.Z,{"aria-label":"undo",size:"large",disabled:D,onClick:function(){y(n),S(s),C(f),M(!0),R(!0)}},o.createElement(ce.Z,{fontSize:"inherit"})))),o.createElement(ie.Z,{title:"このレコードを削除する"},o.createElement(re.Z,{color:"error","aria-label":"delete",size:"large",onClick:function(){return fe(!0)}},o.createElement(oe.Z,{fontSize:"inherit"}))))),o.createElement(W.Z,null,o.createElement(J.Z,{variant:"body2"},(0,se.Z)(N)," ",o.createElement("small",null,"作成 (",H,")")),o.createElement(J.Z,{variant:"body2"},(0,se.Z)(T)," ",o.createElement("small",null,"更新 (",Q,")")))),o.createElement(X.Z,{open:pe,onClose:Se,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.createElement(ne.Z,{id:"alert-dialog-title"},"このレコードの削除しますか？"),o.createElement(ee.Z,null,o.createElement(te.Z,{id:"alert-dialog-description"},"顧客名　: ",n,o.createElement("br",null),"担当者　:"," ",(ye=e.partners.filter((function(e){return e.uuid===s}))[0]).lastNameKanji+" "+ye.firstNameKanji,o.createElement("br",null),"メモ　　: ",f,o.createElement("br",null),"作成日時: ",(0,se.Z)(N)," (",H,")",o.createElement("br",null),"更新日時: ",(0,se.Z)(T)," (",Q,")")),o.createElement(Y.Z,null,o.createElement(d.Z,{onClick:Se},"キャンセル"),o.createElement(d.Z,{onClick:we,autoFocus:!0},"削除する"))))},me=function(){var e=(0,o.useState)(!1),t=e[0],n=e[1],a=(0,o.useState)("info"),l=a[0],g=a[1],Z=(0,o.useState)(""),h=Z[0],E=Z[1],b=(0,o.useState)([]),y=b[0],x=b[1],w=(0,o.useState)([]),S=w[0],k=w[1],P=(0,o.useState)(""),C=P[0],I=P[1],A=(0,o.useState)(""),M=A[0],j=A[1],D=(0,o.useState)(""),R=D[0],B=D[1],N=(0,o.useState)(!0),z=N[0],O=N[1],X=(0,o.useState)(0),Y=X[0],ee=X[1],te=(0,o.useState)(""),ne=te[0],re=te[1];return(0,o.useEffect)((function(){(function(){var e=(0,r.Z)(i().mark((function e(){var t,n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c()("https://api.eleven-cloud.com/api/partners");case 3:return t=e.sent,e.next=6,c()("https://api.eleven-cloud.com/api/partners/clients");case 6:if(n=e.sent,!(t.status>=400)){e.next=9;break}throw new Error("Bad response /api/partners");case 9:if(!(n.status>=400)){e.next=11;break}throw new Error("Bad response /api/partners/clients");case 11:return e.next=13,t.json();case 13:return r=e.sent,e.next=16,n.json();case 16:a=e.sent,x(r),k(a),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(){return e.apply(this,arguments)}})()()}),[Y]),o.createElement(Q.Z,{setUsername:re},o.createElement(J.Z,{variant:"h6"},"紹介システム 権限付与",o.createElement("small",null,"（DARUMA → オーナー様）")),o.createElement(u.Z,{display:"flex",my:2,pl:2,py:4,sx:{border:"2px solid #ccc",borderRadius:2}},o.createElement(_.Z,{label:"顧客名",variant:"outlined",value:C,InputProps:{endAdornment:o.createElement(p.Z,{position:"end"},"様")},onChange:function(e){var t=e.target.value;I(t),O(!M||!t)}}),o.createElement(m.Z,{sx:{minWidth:120}},o.createElement(f.Z,null,"担当者"),o.createElement(F.Z,{label:"担当者",value:M,onChange:function(e){var t=e.target.value;j(t),O(!t||!C)}},y.map((function(e,t){var n=e.uuid,r=e.lastNameKanji,a=e.firstNameKanji,i=e.lastName,l=e.firstName,c=r&&a?r+" "+a:i+" "+l;return o.createElement(L,{key:t,value:n},c)})))),o.createElement(_.Z,{label:"メモ",variant:"outlined",multiline:!0,value:R,onChange:function(e){var t=e.target.value;return B(t)},sx:{minWidth:320}}),o.createElement(d.Z,{variant:"contained",color:"primary",startIcon:o.createElement($.Z,null),disabled:z,onClick:(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c()("https://api.eleven-cloud.com/api/partners/clients",{method:"POST",body:JSON.stringify({name:C,partnerId:M,note:R,createdBy:ne})});case 3:if(!(e.sent.status>=400)){e.next=6;break}throw new Error("Bad response /api/partners/clients");case 6:n(!0),g("success"),E(C+" 様の情報を追加しました"),I(""),j(""),B(""),O(!0),ee(Y+1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),alert("error"),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))},"新規作成")),o.createElement(H.Z,null,o.createElement(V.Z,null,o.createElement(q.Z,null,o.createElement(K.Z,null,o.createElement(W.Z,null,"URL"),o.createElement(W.Z,null,"顧客名"),o.createElement(W.Z,null,"担当者"),o.createElement(W.Z,null,"メモ"),o.createElement(W.Z,null,"操作"),o.createElement(W.Z,null,"タイムスタンプ"))),o.createElement(G.Z,null,S[0]?S.map((function(e,t){return o.createElement(de,{key:t,clientsPartner:e,partners:y,username:ne,reload:function(){return ee(Y+1)}})})):o.createElement(K.Z,null,o.createElement(W.Z,{colSpan:6},o.createElement(J.Z,{align:"center"},"Loading..."),o.createElement(v.Z,null)))))),o.createElement(U.Z,{spacing:2,sx:{width:"100%"}},o.createElement(T.Z,{open:t,autoHideDuration:5e3,onClose:function(e,t){"clickaway"!==t&&n(!1)}},o.createElement(s.Z,{severity:l},h))))}}}]);
//# sourceMappingURL=component---src-pages-admin-invitations-index-js-b9e901f0675c8bd1be31.js.map